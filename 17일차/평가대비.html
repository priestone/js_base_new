<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>평가대비</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="wrap">

        <div class="con">

            <div class="user_info">
                <div class="avatar"></div>
                <div class="username">test username</div>
            </div>
            <div class="bg"></div>
            <div class="bottom_wrap">
                <div class="heart">
                    <i class="fa-regular fa-heart" ></i>
                </div>
                <form>
                    <input type="text" placeholder="댓글을 입력해주세요.">
                </form>
                <div class="comment_box"></div>
            </div>
    
        </div>

    </div>

    <script>

        const formEl = document.querySelector(`form`);
        const inputEl = document.querySelector(`input`);
        const commentEl = document.querySelector(`.comment_box`);

        let review = 0;


        const handleSubmit = (e) => {
            e.preventDefault();
            const inputValue = inputEl.value;

            const new_comment = document.createElement(`div`);
            new_comment.classList.add(`new`);
            commentEl.append(new_comment);
            new_comment.innerText = inputValue;

            localStorage.setItem(String(review),inputValue);


        }

        formEl.addEventListener(`submit`,handleSubmit);



// ------------------------밑에는 삭제까지 구현된 버전--------------------------------

        // const formEl = document.querySelector('form');
        // const inputEl = document.querySelector('input');
        // const commentEl = document.querySelector('.comment_box');
        // let review = localStorage.length;
        // const inputValue = inputEl.value;
    
        // const loadComments = () => {
        //     for (let i = 0; i < localStorage.length; i++) {
        //         const saveComment = localStorage.getItem(localStorage.key(i));
        //         createCommentElement(saveComment, localStorage.key(i));
        //     }
        // }
    

        // const createCommentElement = (text, key) => {
        //     const pEl = document.createElement('p');
        //     const deleteBtn = document.createElement('button');
        //     deleteBtn.innerText = "삭제";
        //     deleteBtn.classList.add('delete-btn');
            

        //     deleteBtn.addEventListener('click', () => {
        //         localStorage.removeItem(key);
        //         pEl.remove();
        //     });
    
        //     pEl.innerText = text;
        //     pEl.append(deleteBtn);
        //     commentEl.append(pEl);
        // }
    

        // const handleSubmit = (e) => {
        //     e.preventDefault();
            
        //     const inputValue = inputEl.value;
            
        //     if (inputValue.length > 0) {
        //         localStorage.setItem(String(review), inputValue);
        //         createCommentElement(inputValue, review);
        //         review++;
        //         inputEl.value = "";
        //     }
        // }
    
        // loadComments(); 
    
        // formEl.addEventListener('submit', handleSubmit);
    
    </script>
    
    
</body>
</html>